<div class="card nopadding mt-3">
  <!-- <h3 class = "style"></h3> -->
  <div class="card-header  bg-info text-center text-light">
    <strong>Loan Disbursal</strong>
  </div>
  <form>

    <div class="card-body  mt-1">
      <div class="form-group">
        <label for="show-loan-requests">Show Loan Requests</label>

        <select name="show-loan-requests" required #name="ngModel" class="custom-select" id="show-loan-requests"
          [(ngModel)]="menuOption">
          <option selected>Please Choose...</option>
          <option *ngFor="let request of loanDataRetrievals">{{request}}</option>
        </select><br>
      </div>

        <div class="d-flex justify-content-center ">
          <br><button type="submit" (click)="onClick()" class="btn btn-primary">Submit</button>
        </div>

        <div class="form-group">
          <br>
          <div class="d-flex justify-content-center ">
            <br><button type="submit" (click)="onSubmit()" class="btn btn-primary">Show Loan Disbursed Data</button>
          </div>
        </div>


        <div class="form-group">
          
          <div class="d-flex justify-content-center ">
            <button type="submit" (click)="onClicking()" class="btn btn-primary">Update Account Balance</button>
          </div>
        
        </div>
      </div>
  </form>
</div>

<br><br>


<table *ngIf="dataReceived" id="showcase-fixedcolumns" datatable="" cellspacing="10" cellpadding="10" border="1"
  width=1200 align="center">
  <thead>
    <tr align="center">
      <th>Loan Disbursal Id</th>
      <th>Account Id </th>
      <th>Loan Id</th>
      <th>Disbursed Amount</th>
      <th>Due Amount</th>
      <th>Number Of Emi To Be Paid</th>
      <th>Loan Type</th>
    </tr>
    <tr *ngFor="let trans of dataResponse">
      <th>{{trans.loanDisbursalId}}</th>
      <th>{{trans.loanId}}</th>
      <th>{{trans.accountId}}</th>
      <th>{{trans.disbursedAmount}}</th>
      <th>{{trans.dueAmount}}</th>
      <th>{{trans.numberOfEmiToBePaid}}</th>
      <th>{{trans.loanType}}</th>
    </tr>
  </thead>
</table>

<table *ngIf="dataReceived1" id="showcase-fixedcolumns" datatable="" cellspacing="10" cellpadding="10" border="1"
  width=1200 align="center">
  <thead>
    <tr align="center">
      <th>Loan Id</th>
      <th>Account Id</th>
      <th>Amount</th>
      <th>Type</th>
      <th>Tenure</th>
      <th>ROI</th>
      <th>EMI</th>
      <th>Credit Score</th>

    </tr>
    <tr *ngFor="let trans of dataResponse1">
      <th>{{trans.loanId}}</th>
      <th>{{trans.accountId}}</th>
      <th>{{trans.amount}}</th>
      <th>{{trans.type}}</th>
      <th>{{trans.tenure}}</th>
      <th>{{trans.roi}}</th>
      <th>{{trans.emi}}</th>
      <th>{{trans.creditScore}}</th>

    </tr>
  </thead>
</table>




<div *ngIf="isProcessing" class="spinner-container d-flex align-items-center justify-content-center flex-column">
  <div class="spinner-border text-info" role="status">
      <!-- <span class="sr-only">Loading...</span> -->
  </div>

</div>

<div *ngIf="showToast" class="spinner-container d-flex align-items-center justify-content-center flex-column ">
  <div class="card text-center m-4 offset-md-4">
      <div class="card-header">
          <b>Loan Disbursal</b>
      </div>
      <div class="card-body">
          <p class="card-text">{{dataResponse["message"]}}</p>
          <button (click)="closeToast()" class="btn btn-primary text-white">Close</button>
      </div>
  </div>
</div>